/// Reutilize Bootstrap mixins to add new responsive modifiers
@each $breakpoint in map-keys($grid-breakpoints) {
  @include media-breakpoint-up($breakpoint) {
    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);

    .border#{$infix}-thick { border-width: 4px !important; }

    @each $color, $rgb in $colors {
      .background#{$infix}-#{$color} {
        background-color: $rgb !important;

        &:focus {
          background-color: $rgb !important;
        }
      }

      .border#{$infix}-#{$color} {
        border-color: $rgb !important;
      }

      .#{$color} {
        color: $rgb !important;

        &:focus {
          color: $rgb !important;
        }

        ::-moz-selection,
        ::selection {
          background: $rgb;
          color: white;
        }
      }
    }

    @each $prop, $abbrev in (width: w, height: h) {
      @each $size, $length in $sizes {
        .#{$abbrev}#{$infix}-#{$size} { #{$prop}: $length !important; }
        .#{$abbrev}#{$infix}-#{$size} { #{$prop}: $length !important; }
        .min-#{$abbrev}#{$infix}-#{$size} { min-#{$prop}: $length !important; }
        .max-#{$abbrev}#{$infix}-#{$size} { max-#{$prop}: $length !important; }
      }
    }
  }
}

/// This creates a navbar that can be toggled on focus and doesn't
/// require CSS.
.navbar {
  &:focus-within {
    .navbar-collapse {
      @extend .d-block;
    }
  }

  .dropdown {
    & > .dropdown-menu {
      @extend .d-none;
    }

    &:hover,
    &:focus-within {
      & > .dropdown-menu {
        @extend .d-block;
      }
    }
  }
}

/// Creates a toggle button without JS
.toggler {
  opacity: 0;
  position: absolute;

  & + label {
    & + .toggled {
      z-index: 10;
      visibility: hidden;
    }
  }

  &:checked + label {
    & + .toggled {
      visibility: visible;
    }
  }

  & + label {
    border: none;
    outline: none;
  }

  &:focus + label {
    outline: 1px dotted grey ;
  }
}
